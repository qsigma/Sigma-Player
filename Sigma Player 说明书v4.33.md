# Sigma Player 说明书
适用于 Sigma Player v4.33 & Sigma Player Pro v4.24

## 欢迎使用
### 运行 Sigma Player
- 运行 Sigma Player 前，请确保运行的系统为 win10 及以上版本。
- 解压 Sigma Player 压缩包，在目录中找到后缀为.exe 的文件，右击后选择以管理员身份运行。 
> - 如果直接双击了.exe 文件，则软件会弹出获取管理员权限的窗口，点击确认后会摧毁原先的窗口，生成获取了管理员权限的新窗口。
> - 如果无法打开软件，可能需要您检查互联网连接、暂时关闭 VPN 代理

### Sigma Player 内含物清单

| 软件目录             | 文件名称                              | 说明                          |
|----------------------|---------------------------------------|-------------------------------|
|  -  |Sigma Player (Pro) vx.x.exe                               | 软件本体                      |
| - | Sigma Player 使用说明.pdf              | 软件说明书                    |
| audios               | 风物之诗琴, ……                         | 软件的内置音源                |
| autosave             | flowsave.txt                           | 存放流式编曲自动保存的文件    |
|                      | mainsave.txt                           | 存放主文本框自动保存的文件    |
| config               | config.json                            | 软件的配置文件                |
| icons                | icons.ico, pin.png, ...                | 软件的图标等图片文件          |
| sheets               | ...                                    | 存放曲谱                      |
> 缺失上述文件夹可能导致 Sigma Player 无法正常运行。在不修改文件夹名称的前提下，您可以创建新的文件夹用于存放 midi 文件或其它用途。

### 验证 Sigma Player Pro
- Sigma Player Pro 包含了 midi 转谱的独家功能以及标准版的全部功能。如果您是 midi 制曲者或者高水平手弹玩家，可以前往 [https://wjx.cn/vm/e3srfbj.aspx](如下问卷地址) 申请使用 Sigma Player Pro。
- 在填写申请问卷前，您需要准备好**活跃平台的账号主页截图、设备的MAC地址和联系邮箱**；如果您的申请审核通过，我们会给您的邮箱发放激活码。
- 如果您获得了 Sigma Player Pro 的使用资格，请在所提交机器码的设备上解压 Sigma Player Pro 的安装包，双击.exe 文件，输入发放的激活码。此后，您可以正常使用，无需再次验证.

> - 发放的激活码仅限本台设备使用，无法在不同的设备上激活。
> - 如果您复制了激活码但是无法正常激活，请试着手动输入；如果发现软件显示的 MAC 地址与您提交的 MAC 地址不一致，请关闭 VPN 后重试。
### 更新版本
Sigma Player Pro v4.2、Sigma Player v4.3 及以上版本配备在线热更新功能，软件会在运行时检测是否有更新可用。如果检测到新版本，软件左上角会出现如下图标：

<img width="415" alt="image" src="https://github.com/user-attachments/assets/73537878-8496-48d2-899f-499699f48991">

点击之后会跳出如下对话框

<img width="445" alt="image" src="https://github.com/user-attachments/assets/18063cfa-3f7e-4212-ae7d-d3d0cc22dc3e">

您可以了解新版本的更新内容，点击按钮下载新版本的 exe 文件，按照对话框的指示，将它放在您现在软件的同位置下，然后删除旧版本 exe 文件。
### 卸载软件
将软件文件夹直接删除即可完成卸载。
> 如果您遇到了删除报错，请尝试右键任务管理器，查看后台进程中是否有残留的 Sigma Player 进程。
### 权限、隐私与账号安全问题
- 为了保证软件的正常运行，您需要提供**管理员权限**，以实现自动演奏功能的正常运行。
- 为了保证软件的正常运行，您需要保证设备**接入互联网**，以获取可用更新和公告。VPN 的开启可能会导致软件无法正常运行。请注意，软件只会从 gitee 的项目中获取信息，而不会上传您的任何信息。
- 为了保证软件的正常功能运作，软件可能会**读取，修改或删除**您的 Sigma Player 文件夹中的琴谱、图标、音源等文件。
- 在自动演奏中，软件会操纵您的**键盘**进行**虚拟输入**。
- Sigma Player 不会修改游戏内数据，因此不会导致任何进行自动演奏的游戏封号，请您放心使用。

## 界面说明
### 了解软件的各个界面
当前版本的 Sigma Player 由四个页面构成。

#### 音频中枢
在这个界面无需打开游戏，即可进行手弹练习；同时也是练习模式、自动演奏按键指示、Midi 播放的入口。

<img width="702" alt="image" src="https://github.com/user-attachments/assets/877ef830-fdb5-472a-bb79-5dfd9ab7fd1e">

#### 琴谱转换
在这个界面可以编辑琴谱，调用丰富的琴谱格式转换功能，或使用换行、排序等功能按钮。

<img width="706" alt="image" src="https://github.com/user-attachments/assets/aed4c2c8-9209-442b-ab52-9c7c0a8e955a">

#### 流式编曲
在这个界面可以使用双向同步的文本框和瀑布流，创作自己的作品，或者进行手弹录制。也是 Sigma Player Pro 的 Midi 转谱的入口。

<img width="709" alt="image" src="https://github.com/user-attachments/assets/fb9889fa-ffa7-46be-8039-f8c1ea6edd7f">

#### 关于软件
在这个界面可以查看赞助鸣谢、公告系统、更新日志和快捷链接。

<img width="728" alt="image" src="https://github.com/user-attachments/assets/782a5828-289c-43ef-a36a-8fcec04e4d7c">

### 顶部与底部的常驻 UI
- 顶部的常驻 UI，包含导入琴谱和几个使用软件时的图标按键。

  <img width="540" alt="image" src="https://github.com/user-attachments/assets/fd13f578-8c77-4d65-a156-e8e2661b314d">

  - **图钉**：点按后会变成<img width="17" alt="image" src="https://github.com/user-attachments/assets/baabc154-8c08-4c21-ab2f-ccd758b1736c">，表示软件窗口具有了置顶的特性；再次点按则取消置顶；
  - **皮肤**：点按后为软件更改配色方案。将在以下五种颜色中轮替；
    > 在部分功能打开时，皮肤按钮不可用。

    <img width="706" alt="image" src="https://github.com/user-attachments/assets/446498d8-710e-4f01-9391-2698a90a2fd5">

  - **刷新**：点按后刷新琴谱目录、检测版本更新。
- 底部的常驻 UI，包含自动演奏进度条和控制中心。

  <img width="506" alt="image" src="https://github.com/user-attachments/assets/b8633625-77db-45d9-9858-df7bd2fef402">

  
控制中心允许您切换音频输出的模式，具体参数可以在[[自动演奏]]章节查阅。

## 自动演奏
> - Sigma Player 原生支持自动演奏 Sigma-呱呱谱格式的琴谱，以及 Midi 文件。对于其它格式的琴谱如何通过琴谱转换实现自动演奏，请参考【琴谱转换】章节。
> - 在自动演奏文本琴谱与 Midi 文件时，Sigma Player 均支持速度调节、暂停中止。

### 选择琴谱文件
首先，您需要将待演奏的琴谱导入 Sigma Player，您可以选取下列任一方式。
- **从顶部下拉菜单中选择**。下拉菜单会读取 sheets 文件夹的文件列表，以及自动保存的两个文件选项。单机任一区域，会调出对应 txt 文件的内容，并显示在软件的文本框中。在软件包中，我们提供了几个示例文件。更多的琴谱资源需要您另行获取。

  <img width="364" alt="image" src="https://github.com/user-attachments/assets/99cc0354-195a-49c9-8470-e62a17ba654d">
 
  > - 单击刷新按钮，会更新琴谱目录。
  > - 如果您的 sheets 文件夹内容过多，无法快捷的找到想要的结果，则可以输入任意关键词，然后再点击下拉，则软件会执行搜索功能，并只显示搜索结果。
- **从浏览文件按钮选择**。浏览文件按钮会弹出选择文件的会话窗口，路径为您上一次选择文件的路径。您可以选择.txt 或.mid 文件导入。
- **直接复制琴谱到文本框**。您可以直接将琴谱复制到【琴谱转换】的文本框中。

### 自动演奏的三种输出模式
在底部控制栏，您可以从点按、长音、音频中任意点亮一个模式，并使软件按该模式输出。
> - 当任一模式点亮，软件进入响应状态，此后按 1 即可开始自动演奏。如果您希望退出响应状态，不被正常按键误触发，可以再次点击同一模式，则鼠标移开后控制中心会变为全灰状态。您还可以按下 esc 键达到相同效果。
> - 当练习模式开启时，您无法退出响应状态。但是如果您没有按下练习模式的【开始】，则不必担心按键误触发，详见【练习模式】章节。
- **点按**：当自动演奏读取到对应琴键时，会调用 pynput 库的 tap 方法，短按一下对应虚拟按键并立即松开。这个模式适用于仅由按键触发声音、不依赖松开按键停止发声的游戏内乐器，例如所有的原神乐器。
- **长音**：当自动演奏读取到对应琴键时，会调用 pynput 库的 press 方法，将对应虚拟按键设置为按下状态；在持续到延时符号结束、下一组按键进入，或读取到▲符号时，调用 pynput 的 release 方法，将所有虚拟按键设为抬起状态。这个模式适用于需要由按键的按下、抬起触发声音开始、停止的乐器，例如逆水寒的长笛。
- **音频**：此模式下软件仅会调用自身的音色库，播放对应按键的声音，而不会进行自动演奏。
> 从实现的原理来看，长音与点按彼此不兼容。使用其中一个模式弹奏另一个模式的乐器，都会触发异常效果，因此您需要在演奏前保证选择了正确的输出模式。

### 如何进行自动演奏
- 在选择任一输出模式，使软件进入响应模式后，按 `1` 即可触发自动演奏。如果此时演奏区不在 Midi 模式，则会自动演奏文本框中的内容；否则，演奏选中的 Midi 文件。
- 在自动演奏过程中，如果模式选择并非音频，则需要将鼠标焦点放置在对应游戏内乐器上。也即，对于原神而言，自动演奏的流程是：打开原琴，选择【点按】模式，然后点击原琴界面后按 `1`。
- 在自动演奏中，还可以通过快捷键实现中止、暂停、变速等操作。具体指令为：
```text
按下 2：中止演奏；此后可编辑琴谱，按 1 从琴谱开头开始演奏；
按下 3：暂停演奏；在暂停位置生成标识■，此后可编辑琴谱，按 1 从■处开始演奏；
按下 4：加速：变速倍率减少 0.1，至少为 0.5；
按下 5：减速，变速倍率增加 0.1，至多为 2；
```
您可以参考【按键指示】上的状态指示。

<img width="487" alt="image" src="https://github.com/user-attachments/assets/faccba12-0a22-4963-b24d-7ada6d10b779">


软件进入响应模式时，【1 播放】被高亮；按下 1 后，【1 播放】取消高亮，【2、3、4、5】亮起。软件会实时指示您在何时可以按下哪个按键。例如，练习模式下【3 暂停】不会亮起；临时变速到达极限时对应的【4 -】或【+ 5】不会亮起。
### Midi 文件的自动演奏
想要自动演奏 Midi 文件，需要点按浏览文件按钮，将文件类型选为.mid。此时会弹出 Midi 区的 UI，软件进入 Midi 模式。此后，自动演奏的各种操作与文本琴谱的完全一致。

<img width="472" alt="image" src="https://github.com/user-attachments/assets/8c171246-3ab6-4984-8524-eac1e3055f69">

由于无法获知 Midi 文件的调式，我们会在每个调式下计算黑键的个数，并取数量最小的那个方案作为 C 调。在 Midi 区您可以对调式进行进一步的配置。
- 点击最右侧的按键，可以选择在当前定调下，黑键音符的处理方法。可以在黑键靠上、黑键靠下、黑键略去中选择。
- 点击右侧倒数第二个数字，可以修改调式
```
如果想要在软件自动配置的调式上增加一个八度，则在输入的数值上减 12；
如果想要增加一个调，则在输入的数值上减 1，以此类推。
```
### 内置诗琴
- 如果在控制中心的输出模式选择了【音频】，且保持软件的页面在【音频中枢】页面，则可以将软件变成原琴模拟器。按下对应按键时，软件顶部的对应琴键会发生变色

  <img width="129" alt="image" src="https://github.com/user-attachments/assets/9478dec4-e345-416e-8b1b-474b435f3c66">

- 打开【启用延时】，则会在按键之后延迟一段时间再播放音频。这是为了模拟游戏中佩戴蓝牙耳机可能造成的延迟。默认值为 175ms。

  <img width="318" alt="image" src="https://github.com/user-attachments/assets/891abd33-3068-4004-bdd6-0829ba311d19">

### 自动演奏的使用道德规范
自动演奏让手弹技术尚不精通的玩家也可以在游戏中与好友聆听高难度的音乐，然而您需要保持诚信，不可以用 Sigma Player 冒充手弹玩家，也要充分尊重联机房间中反感脚本的玩家。

为了防止用户使用脚本在手弹比赛中作弊，Sigma Player 在自动演奏时会在每个虚拟按键后附加一个 k 键，它可以作为反作弊软件检测的依据。
### 自动演奏中可能的异常排查
- **按 1 后按键指示区有响应，但是没有触发自动演奏**：
查看鼠标焦点是否在游戏乐器中，或是否输入法选择了中文，或是否对长音类乐器选择了点按输出。
- **按 1 后按键指示区无响应**：
这可能是一个 bug。您可以退出响应模式再重新进入，或退出软件再重新进入。如果依然无法解决请向我报告问题。
- **按 1 后播放速度飞快，或有其它效果异常**：
如果您导入了非 Sigma-呱呱谱，需要使用【琴谱转换】自动添加延时符号，然后再进行自动演奏。如果速度正常，但部分地方效果异常，检查是否对点按类乐器选择了长音出。

## Sigma-呱呱谱格式说明 
这一节将介绍 Sigma-呱呱谱的格式，方便您自己进行琴谱的撰写。

Sigma-呱呱谱以延时符号和按键作为主体，不强制要求添加括号，兼具了手弹可读性和脚本可读性。

Sigma-呱呱谱以**呱呱能有什么坏心思**的脚本谱记谱格式为蓝本，且对它完全兼容。然而，Sigma-呱呱谱有局部变速、多音轨等其它特性，因此本说明书只讨论 Sigma-呱呱谱的特性，它无法完全适用于呱呱的脚本。

### 音符记号
与原琴一致，我们用键盘上的 `Z~M, A~J, Q~U` 表达 C2 至 B4 的 21 个非黑键音符；在流式编曲与 Midi 转谱中，我们额外预留了 C1 至 B1, C5 至 B5 的两个八度，它们分别用汉字`一~七`， `壹~柒`表示。含这些汉字的琴谱，会在支持的音频输出模式中播放，或导入流式编曲的对应位置。
> 在当前版本中，仅有软件内置乐器【钢琴】可以触发这两个额外的八度。
### 延时符号与基本逻辑
- 琴谱中定义了如下四种延时符号 `+ - = ·`。程序顺序读取到延时符号时，会停顿等待一段时间。如果记 = 的停顿时间为 X，则相对地：

  |符号|·|=|-|+|
  |---|---|---|--|--|
  |停顿时间|X/3|X|2X|4X|

  也即如果您将+视为四分音符，则-是八分音符，=是十六分音符。 · 是在出现三连音、琶音等特殊情形时使用的符号，不应作为编谱时的基准符号。
- 假设我们不考虑 X 的取值，那么软件自动演奏的基本逻辑是，读取到延时符号，停顿对应的 X 的倍数；读到连贯的几个字母，则同时将它们按下。
> 在呱呱谱中，没有 · 的记号。您需要将它替换掉，或者修改整个节奏的尺度。
### 速度设定
速度设定用来规定上文中的 X 的值。在琴谱开头时，需要用`《》`标定演奏速度。书名号
内的数值为 + 停顿的时间（以秒为单位），您可以用 60/bpm 进行简单的换算。
> 60/bpm 得到的换算结果可能与实际相差一个整数倍，取决于您选取哪个延时符号作为四分音符。

- **局部变速**：如果在演奏中途，节奏发生了变化，您可以用新的《》标记新的演奏速度。则此后的所有文本，都会按照这个新的《》进行演奏。
- **速度锁**：如果您的谱子没有标记速度，则会默认赋予 0.2 的速度。
- **自动演奏中的临时速度变换**：【按键指示区】在 4 5 之间的数值指示了您在自动演奏时通过 4 5 得到的临时相对速度倍率，范围在 0.5~5 之间，它与原始速度是乘算关系。在演奏中止后，这个倍率会回到 1.0。
### 其它符号的说明
以下符号发挥了特定的功能，它们并不是强制要求出现的。
- 休止符 `▲` ：用于长音演奏中提前结束某组音。一般穿插在一大串+之间。
- 歌词或注释 `【】` ：在【】内的内容不会触发软件的任何效果，您可以填入歌词或注释。
- 暂停 `■` ：在自动演奏按下【3 暂停】时，会在暂停的位置生成一个■，指示暂停的位置；您可以自行修改■的位置，来改变演奏开始的位置。演奏开始后会清空所有的■。
- 音轨 `|` ：用 | 来记录同一位置的多音轨（若同一位置第一音轨有 AC，第三音轨有 B，则记为 AC||B；若第一音轨有 AC，第二音轨有 D，第四音轨有 E，记为 AC|D||E，以此类推。多音轨只会在流式编曲触发特殊效果，在自动演奏中软件会无视 | ，将谱子视为单音轨乐曲，详见【流式编曲】章节。
- 小节 `/` ：用于划分节拍。在流式编曲中会在相应位置生成节拍线，详见【流式编曲】【琴谱转换】章节。
- 标记 `□` ：在流式编曲中会在相应位置生成标记，详见【流式编曲】章节。

我们鼓励大家按 Sigma-呱呱谱的格式自行撰写琴谱，或通过 Sigma Player 的琴谱转换功能将特定类型的琴谱转换为 Sigma-呱呱谱。但是为了保证正确性，依然优先推荐大家使用脚本内置的样例谱和后续本人更新的其他琴谱。

以下是两个Sigma-呱呱谱示例。您可以阅读【琴谱转换】了解如何排版，提升琴谱可读性。

<img width="703" alt="image" src="https://github.com/user-attachments/assets/0ae657cc-1aa8-4abc-83d7-5d59ee388a6b">

## 琴谱转换 
### 琴谱转换基本操作
将琴谱输入文本框，从下拉列表选择输入和输出格式，点击【转换】按钮。

<img width="603" alt="image" src="https://github.com/user-attachments/assets/7455175e-1b5d-47c6-b963-2acc4376858d">

为了防止转换卡顿，方便批量操作，Sigma Player 有直接转换文件的功能。右击【转换】，在弹出的子窗口中操作即可。
> 选择的文件必须是 txt 格式，输出的文件在输入文件的同目录，名称为【原文件_输入格式_输出格式.txt】。

Sigma Player 在新版本继续推进琴谱转换功能的完善。希望能借此工具推进 b 站原琴区各类型琴谱的统一，让复杂的脚本谱具有可读性，让不同格式的谱子可以使用一个软件进行演奏。

我鄙视部分开发者吹嘘卖弄自己功能有限、生态封闭、支持性差的软件的行为。
### Sigma-呱呱谱转指尖谱/键盘谱
通过这个模式增加脚本谱的可读性。用户可以在谱子中用/划定第一个小节，点击转换后将自动划分小节，并给相连的音加上括号。

此按钮支持反复点按，每次都将依据第一小节进行重排，以方便用户修改某个小节中的节奏。

用户可以将结果中的+等符号自行替换成空格等，但替换后不支持反复点按转换按钮。

**例1**：标定两个斜杠，触发小节划分和括号标注。三例中琴谱均来自@dr_sigma

<img width="652" alt="image" src="https://github.com/user-attachments/assets/af5c691c-6bcb-43be-9604-e9e72b8e31a8">

**例2**：删去 B 前的斜杠，重新排版，触发小节划分。
**例3**：不加斜杠，触发括号标注。
### 指尖谱转 Sigma-呱呱谱
手弹谱可以交给脚本演奏！Sigma Player 会根据每个小节内音符（及空格，空格可以换为L）的多少均分小节内的时间。由于本谱是手弹谱，所以转换成脚本谱后效果尚可但节奏仍有差错。与指尖谱类似的脚本谱同样支持在这里转换。

如果原谱中没有数字，用户需要自行标定速度；如果原谱中有数字，将自动嵌套《》。

> 请注意，手弹谱演奏必须先进行琴谱转换！

**例4**：来自@指尖灬旋律丿；《0.2》为用户自行标定的速度。

**例5**：（琴谱来自@旋律透明），自带速度，未做任何补充更改。

**例6**：若琴谱中没有/，识别()，[]和【】，后两者为琶音标记；默认琶音外赋+，琶音内赋=。
### Genshin music 谱转 Sigma-呱呱谱
Sigma Player 鼓励你使用 [https://specy.github.io/genshinMusic/#/Composer](Genshin Music Nightly) 制谱，且提供转换功能。在网站页面点击 download，在 json 文件中选取 columns 后面的内容
即可转换。需要自定速度。

**例7**：
### 指尖谱或键盘谱转数字谱；“ ”转数字谱

**（接例4）**: 如果输入选择空档，将进行暴力替换，琴谱中有+ -符号的谨慎操作。

### Sigma-呱呱谱转数字谱
**（接例一）**保留了/排版功能，删去了延时符号
### Sigma-呱呱谱转 js 谱
Js 谱可以用来在移动端自动演奏。将带速度标记的 Sigma-呱呱谱输出为 js 谱
**例8**：
### js 谱转 Sigma-呱呱谱
为了更好的拟合 js 中的整数值停顿时长，我们独家搭载了 Sigma New-Beat 节奏拟合算法。点击转换后，可以调节预期输出的精确度/简洁性权重，并查看实时效果。
**例9**：

> Sigma Player 内置的其他输入输出组合欢迎用户自行探寻！此外，Sigma Player 将继续推进琴谱格式的转换，有其他 up 主的琴谱转换需求的，在得到 up 授权之后欢迎与我交流！
### 自动换行
点击换行，按照每行的斜杠数进行换行。输入 0 则代表不进行换行。【直接转换文件】中也有对应选项。
### 琴谱排序
点击【排序】启用琴谱排序，它可以将琴谱中的音符按音调高低进行排序，方便用户在手弹时找到主旋律，契合自身弹奏习惯。我们给出了升降序、依赖括号或是依赖延时符号共四种模式供用户选择。
### 自动保存
每 5 秒，Sigma Player 会将主文本框的内容保存至 `autosave/mainsave.txt`；自动保存仅在主文本框内容非空时触发。如果你遇到软件闪退未来得及保存，可以前去该目录查看，或重新打开软件，选择琴谱中下拉选择【琴谱转换自动保存】即可。
## 练习模式 
### 打开练习模式
Sigma player v3.0 加入了练习模式。练习模式的入口在音频中枢界面；打开后，会弹出练习模式的窗口，练习模式窗口处于置顶位置。主页面中文本框内的琴谱会被按换行符、变速符号《》进行切分，并将当前行和下一行分别填入练习模式的窗口内。通过这种方式，琴谱以歌词的形式呈现。
> 打开练习模式后，对应按钮变绿。练习模式打开时，无法触发主文本框的自动演奏输出，且控制中心的模式改为指示练习模式窗口的对应模式输出。

练习模式中更改的内容在**不开启编辑按钮时不会保存**。大规模的更改，请退出练习模式，更改好之后再次打开练习模式。
### 练习模式界面与功能说明
练习模式的窗口有八个按钮和一根速度滑动条；左侧四个按钮用来调节歌词位置：
- **重置**：回到第一句；
- **上句**：回到上一句；在选中窗口时可以按 `←` 触发；任何时候都可以按 `7` 触发；
- **下句**：进入下一句；在选中窗口时可以按 `→` 触发；任何时候都可以按 `8` 或者`空格Space`触发；
为防止误触，点击【开始】后且不在播放时再使用空格；
- 标记：点击后变为橙色并记忆标记的句子，直到练习模式关闭；按 `ctrl+7`，`ctrl+8` 可以方便地向前/向后跳转到对应标记的句子。
> 请注意，歌词位置是一个全局变量，不会随窗口关闭而重置，故用户选择新曲子导入后要手动重置歌词
右侧四个按钮用来开启练习模式或者进行编辑：
- **跟弹**：点击后变红，表示此时软件按照控制中心的选定模式参与演奏；再次点击后变蓝；蓝色表示软件不参与演奏；
- **单句**：点击后变黄，表示不会自动跳转至下句；再次点击后变蓝；蓝色表示会从当前句子开始自动跳转直至最后一句。
- **开始**：点击后变绿，锁定跟弹和单句按钮，练习模式进入就绪状态。此时：
  
```text
按【1】，软件便会依据对应的模式进行演奏；无论是否选择跟弹，软件都会在对应的时间将小窗口上的文字变绿用来指示进度，这对于用户是节奏的参考。演奏中的推进速度，取决于该句句首《》内的数值与相对速度的乘积；
按【2】，中止，停留在当前句子；
按【4】，停止 0.8s，然后滑动条中的相对速度减少 0.1；
按【5】，停止 0.8s，然后滑动条中的相对速度增加 0.1。
```
- **编辑**：点击后变紫，开启后编辑小窗中第一个区块内的琴谱可以在关闭小窗后更新到原
始文本框中。
  > 请注意编辑按钮只支持小范围的改动，具体为第一行《速度》，第二行琴谱，不可以在第一行增加内容，也不可以新增行数、缩并行数。编辑模式下，左右不再触发跳转。
### 手弹谱的使用
右侧的三个按钮的使用依赖于琴谱中记录的时间；不带Sigma-呱呱谱中规定的延时符号无法使用。对于该类谱，用户有两个选择：
- 使用 7，8 或空格手动翻页；
- 回主界面将谱子转换为 Sigma-呱呱谱再打开练习模式。
## 流式编曲 
Sigma player v4.0 加入了流式编曲，是专业的原琴谱制作界面。本模块参考了 genshin music nightly 网站的思路，并支持了大量的新内容。
### 界面概览与操作
- 流式编曲界面由文本框副栏、瀑布流和其他 UI 构成，文本框和瀑布流的占比可以通过中间的分界线改变；列宽可以动态调整。
- 使用鼠标调整某一列的列宽，则全局会自动以新的列宽更新。例如下图：
 
- 点击瀑布流栏的【列复位】，则会回到原始的列宽。
- 添加列：点击【添加列】，会跳出对话框，输入你希望添加的列数，并会在当前所在的列的右侧进行添加。
- 删除列：选中若干列，点击【删除列】，或右击表头选择【delete columns】。
### 琴谱的导入与导出
- 点击【导入】会出现如下提示词；点击确定后，会将主文本框的内容导入到瀑布流中；若是单音轨，默认为音轨 1 中导入。
